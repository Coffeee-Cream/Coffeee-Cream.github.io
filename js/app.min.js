import*as Comlink from"https://unpkg.com/comlink/dist/esm/comlink.mjs";var blogNames,blogDesc,blogTags;function blogSearch(e){document.getElementById("search-list").innerHTML="";let o=[];for(let t=0;t<window.blogs.length;t++)window.blogs[t].name.toLowerCase().indexOf(e.toLowerCase())>-1&&o.push(window.blogs[t]);for(let e=0;e<o.length;e++){let t=document.createElement("div");t.innerHTML=`<a href="/?blog=${o[e].name}#read-blog">${o[e].name}</a>`,document.getElementById("search-list").append(t)}}window.onload=async function(){new IntersectionObserver((e=>{e[0].intersectionRatio<=0?document.querySelector("#blog").style.visibility="hidden":document.querySelector("#blog").style.visibility="visible"})).observe(document.querySelector("#blog")),new IntersectionObserver((e=>{e[0].intersectionRatio<=0?document.querySelector("#home").style.visibility="hidden":document.querySelector("#home").style.visibility="visible"})).observe(document.querySelector("#home")),new IntersectionObserver((e=>{e[0].intersectionRatio<=0?document.querySelector("#search-blogs").style.visibility="hidden":document.querySelector("#search-blogs").style.visibility="visible"})).observe(document.querySelector("#search-blogs")),new IntersectionObserver((e=>{e[0].intersectionRatio<=0?document.querySelector("#read-blog").style.visibility="hidden":document.querySelector("#read-blog").style.visibility="visible"})).observe(document.querySelector("#read-blog"));const e=new Worker("js/blogWorker.min.js",{type:"module"}),o=Comlink.wrap(e),t=Comlink.wrap(e);e.addEventListener("message",(function(e){let o=e.data;try{o=new Function(o),o()}catch(e){console.log(o,e)}})),await o(window.location.href.indexOf("#read-blog"),window.location.search),await t()},document.getElementById("search-blog-box").onkeyup=()=>{blogSearch(document.getElementById("search-blog-box").value)},setTimeout((()=>{0==navigator.onLine&&(document.querySelector("#blog-list > .vertical-center").innerHTML="Your Offline")}),1e4),setInterval((()=>{"search-blog-box"==document.activeElement.id&&window.location.href.indexOf("#search-blogs")<0?(window.location.replace(window.location.href.replace(/(#home)|(#blog)|(#read-blog)/gm,"")+"#search-blogs"),document.getElementById("search-blog-box").focus()):"search-list"!=document.activeElement.id&&"search-blog-box"!=document.activeElement.id&&window.location.href.indexOf("#search-blogs")>-1&&window.location.replace(window.location.href.replace(/(#search-blogs)|(#home)|(#blog)|(#read-blog)/gm,"")+"#home"),"search-blog-box"==document.activeElement.id&&window.location.href.indexOf("#search-blogs")>-1?document.getElementById("search-blog-box").className="search-now":document.getElementById("search-blog-box").className=""}),500),document.body.onkeydown=function(e){75===e.keyCode&&!0===e.ctrlKey&&(e.preventDefault(),document.getElementById("search-blog-box").focus())};
